{"ast":null,"code":"import _defineProperty from\"/Users/rabin/DeployApp/InterviewGuideInGIT/InterviewGuide/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/rabin/DeployApp/InterviewGuideInGIT/InterviewGuide/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/rabin/DeployApp/InterviewGuideInGIT/InterviewGuide/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/rabin/DeployApp/InterviewGuideInGIT/InterviewGuide/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/rabin/DeployApp/InterviewGuideInGIT/InterviewGuide/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/rabin/DeployApp/InterviewGuideInGIT/InterviewGuide/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/rabin/DeployApp/InterviewGuideInGIT/InterviewGuide/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import AuthenticationService from\"./AuthenticationService.js\";var LoginComponent=/*#__PURE__*/function(_Component){_inherits(LoginComponent,_Component);function LoginComponent(props){var _this;_classCallCheck(this,LoginComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(LoginComponent).call(this,props));_this.state={username:\"\",password:\"\",hasLoginFailed:false,showSuccessMessage:false};// this.handleUsernameChange = this.handleUsernameChange.bind(this)\n// this.handlePasswordChange = this.handlePasswordChange.bind(this)\n_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.loginClicked=_this.loginClicked.bind(_assertThisInitialized(_this));return _this;}_createClass(LoginComponent,[{key:\"handleChange\",value:function handleChange(event){//console.log(this.state);\nthis.setState(_defineProperty({},event.target.name,event.target.value));}// handleUsernameChange(event) {\n//     console.log(event.target.name);\n//     this.setState(\n//         {\n//             [event.target.name]\n//               :event.target.value\n//         }\n//     )\n// }\n// handlePasswordChange(event) {\n//     console.log(event.target.value);\n//     this.setState({password:event.target.value})\n// }\n},{key:\"loginClicked\",value:function loginClicked(){var _this2=this;//in28minutes,dummy\n// if(this.state.username==='in28minutes' && this.state.password==='dummy'){\n//     AuthenticationService.registerSuccessfulLogin(this.state.username,this.state.password)\n//     this.props.history.push(`/welcome/${this.state.username}`)\n//     //this.setState({showSuccessMessage:true})\n//     //this.setState({hasLoginFailed:false})\n// }\n// else {\n//     this.setState({showSuccessMessage:false})\n//     this.setState({hasLoginFailed:true})\n// }\n// AuthenticationService\n// .executeBasicAuthenticationService(this.state.username, this.state.password)\n// .then(() => {\n//     AuthenticationService.registerSuccessfulLogin(this.state.username,this.state.password)\n//     this.props.history.push(`/welcome/${this.state.username}`)\n// }).catch( () =>{\n//     this.setState({showSuccessMessage:false})\n//     this.setState({hasLoginFailed:true})\n// })\nAuthenticationService.executeJwtAuthenticationService(this.state.username,this.state.password).then(function(response){AuthenticationService.registerSuccessfulLoginForJwt(_this2.state.username,response.data.token);_this2.props.history.push(\"/welcome/\".concat(_this2.state.username));}).catch(function(){_this2.setState({showSuccessMessage:false});_this2.setState({hasLoginFailed:true});});}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"m-5 p-5\"},React.createElement(\"h1\",null,\"Login\"),React.createElement(\"div\",{className:\"container\"},this.state.hasLoginFailed&&React.createElement(\"div\",{className:\"alert alert-warning\"},\"Invalid Credentials\"),this.state.showSuccessMessage&&React.createElement(\"div\",null,\"Login Sucessful\"),\"User Name:\",\" \",React.createElement(\"input\",{type:\"text\",name:\"username\",value:this.state.username,onChange:this.handleChange}),\"Password:\",\" \",React.createElement(\"input\",{type:\"password\",name:\"password\",value:this.state.password,onChange:this.handleChange}),React.createElement(\"button\",{className:\"btn btn-success\",onClick:this.loginClicked},\"Login\")));}}]);return LoginComponent;}(Component);export default LoginComponent;","map":{"version":3,"sources":["/Users/rabin/DeployApp/InterviewGuideInGIT/InterviewGuide/src/components/todo/LoginComponent.jsx"],"names":["React","Component","AuthenticationService","LoginComponent","props","state","username","password","hasLoginFailed","showSuccessMessage","handleChange","bind","loginClicked","event","setState","target","name","value","executeJwtAuthenticationService","then","response","registerSuccessfulLoginForJwt","data","token","history","push","catch"],"mappings":"o/BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,qBAAP,KAAkC,4BAAlC,C,GAEMC,CAAAA,c,wEACJ,wBAAYC,KAAZ,CAAmB,gDACjB,gFAAMA,KAAN,GAEA,MAAKC,KAAL,CAAa,CACXC,QAAQ,CAAE,EADC,CAEXC,QAAQ,CAAE,EAFC,CAGXC,cAAc,CAAE,KAHL,CAIXC,kBAAkB,CAAE,KAJT,CAAb,CAMA;AACA;AACA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CACA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBD,IAAlB,+BAApB,CAZiB,aAalB,C,6EAEYE,K,CAAO,CAClB;AACA,KAAKC,QAAL,oBACGD,KAAK,CAACE,MAAN,CAAaC,IADhB,CACuBH,KAAK,CAACE,MAAN,CAAaE,KADpC,GAGD,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;mDAEe,iBACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAf,qBAAqB,CAACgB,+BAAtB,CACE,KAAKb,KAAL,CAAWC,QADb,CAEE,KAAKD,KAAL,CAAWE,QAFb,EAIGY,IAJH,CAIQ,SAAAC,QAAQ,CAAI,CAChBlB,qBAAqB,CAACmB,6BAAtB,CACE,MAAI,CAAChB,KAAL,CAAWC,QADb,CAEEc,QAAQ,CAACE,IAAT,CAAcC,KAFhB,EAIA,MAAI,CAACnB,KAAL,CAAWoB,OAAX,CAAmBC,IAAnB,oBAAoC,MAAI,CAACpB,KAAL,CAAWC,QAA/C,GACD,CAVH,EAWGoB,KAXH,CAWS,UAAM,CACX,MAAI,CAACZ,QAAL,CAAc,CAAEL,kBAAkB,CAAE,KAAtB,CAAd,EACA,MAAI,CAACK,QAAL,CAAc,CAAEN,cAAc,CAAE,IAAlB,CAAd,EACD,CAdH,EAeD,C,uCAEQ,CACP,MACE,4BAAK,SAAS,CAAC,SAAf,EACE,sCADF,CAEE,2BAAK,SAAS,CAAC,WAAf,EAEG,KAAKH,KAAL,CAAWG,cAAX,EACC,2BAAK,SAAS,CAAC,qBAAf,wBAHJ,CAKG,KAAKH,KAAL,CAAWI,kBAAX,EAAiC,iDALpC,cAOa,GAPb,CAQE,6BACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,UAFP,CAGE,KAAK,CAAE,KAAKJ,KAAL,CAAWC,QAHpB,CAIE,QAAQ,CAAE,KAAKI,YAJjB,EARF,aAcY,GAdZ,CAeE,6BACE,IAAI,CAAC,UADP,CAEE,IAAI,CAAC,UAFP,CAGE,KAAK,CAAE,KAAKL,KAAL,CAAWE,QAHpB,CAIE,QAAQ,CAAE,KAAKG,YAJjB,EAfF,CAqBE,8BAAQ,SAAS,CAAC,iBAAlB,CAAoC,OAAO,CAAE,KAAKE,YAAlD,UArBF,CAFF,CADF,CA8BD,C,4BA5G0BX,S,EA+G7B,cAAeE,CAAAA,cAAf","sourcesContent":["import React, { Component } from \"react\";\nimport AuthenticationService from \"./AuthenticationService.js\";\n\nclass LoginComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: \"\",\n      password: \"\",\n      hasLoginFailed: false,\n      showSuccessMessage: false\n    };\n    // this.handleUsernameChange = this.handleUsernameChange.bind(this)\n    // this.handlePasswordChange = this.handlePasswordChange.bind(this)\n    this.handleChange = this.handleChange.bind(this);\n    this.loginClicked = this.loginClicked.bind(this);\n  }\n\n  handleChange(event) {\n    //console.log(this.state);\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  // handleUsernameChange(event) {\n  //     console.log(event.target.name);\n  //     this.setState(\n  //         {\n  //             [event.target.name]\n  //               :event.target.value\n  //         }\n  //     )\n  // }\n\n  // handlePasswordChange(event) {\n  //     console.log(event.target.value);\n  //     this.setState({password:event.target.value})\n  // }\n\n  loginClicked() {\n    //in28minutes,dummy\n    // if(this.state.username==='in28minutes' && this.state.password==='dummy'){\n    //     AuthenticationService.registerSuccessfulLogin(this.state.username,this.state.password)\n    //     this.props.history.push(`/welcome/${this.state.username}`)\n    //     //this.setState({showSuccessMessage:true})\n    //     //this.setState({hasLoginFailed:false})\n    // }\n    // else {\n    //     this.setState({showSuccessMessage:false})\n    //     this.setState({hasLoginFailed:true})\n    // }\n\n    // AuthenticationService\n    // .executeBasicAuthenticationService(this.state.username, this.state.password)\n    // .then(() => {\n    //     AuthenticationService.registerSuccessfulLogin(this.state.username,this.state.password)\n    //     this.props.history.push(`/welcome/${this.state.username}`)\n    // }).catch( () =>{\n    //     this.setState({showSuccessMessage:false})\n    //     this.setState({hasLoginFailed:true})\n    // })\n    AuthenticationService.executeJwtAuthenticationService(\n      this.state.username,\n      this.state.password\n    )\n      .then(response => {\n        AuthenticationService.registerSuccessfulLoginForJwt(\n          this.state.username,\n          response.data.token\n        );\n        this.props.history.push(`/welcome/${this.state.username}`);\n      })\n      .catch(() => {\n        this.setState({ showSuccessMessage: false });\n        this.setState({ hasLoginFailed: true });\n      });\n  }\n\n  render() {\n    return (\n      <div className=\"m-5 p-5\">\n        <h1>Login</h1>\n        <div className=\"container\">\n          {/*<ShowInvalidCredentials hasLoginFailed={this.state.hasLoginFailed}/>*/}\n          {this.state.hasLoginFailed && (\n            <div className=\"alert alert-warning\">Invalid Credentials</div>\n          )}\n          {this.state.showSuccessMessage && <div>Login Sucessful</div>}\n          {/*<ShowLoginSuccessMessage showSuccessMessage={this.state.showSuccessMessage}/>*/}\n          User Name:{\" \"}\n          <input\n            type=\"text\"\n            name=\"username\"\n            value={this.state.username}\n            onChange={this.handleChange}\n          />\n          Password:{\" \"}\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={this.state.password}\n            onChange={this.handleChange}\n          />\n          <button className=\"btn btn-success\" onClick={this.loginClicked}>\n            Login\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default LoginComponent;\n"]},"metadata":{},"sourceType":"module"}